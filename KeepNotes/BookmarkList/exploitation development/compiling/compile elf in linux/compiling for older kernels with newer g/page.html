<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Compiling for Older Kernels With Newer GCC</title>
</head><body>Sometimes you want to exploit an old kernel, but don't want to spin up an old OS to build the exploit. <br/>
Two possible options are using --static and using --W1,--hash-style=both<br/>
<br/>
The error that spawned this page is: error while loading shared libraries: requires glibc 2.5 or later dynamic linker<br/>
From <a href="https://stackoverflow.com/questions/12075403/gcc-reduce-libc-required-version">stack overflow</a>&nbsp;<br/>
Cause is the dynamic binary (or dependent shared library) you want to run only has .gnu.hash section, but the ld.so on target machine is too old to recognize .gnu.hash and only recognizes the old-school .hash section.<br/>
Usually happens when the binary in question is built using newer version of GCC. Solution is to compile with <br/>
<br/>
-static<br/>
or<br/>
-Wl,--hash-style=both<br/>
<br/>
To include both .gnu.hash and .hash sections</body></html>